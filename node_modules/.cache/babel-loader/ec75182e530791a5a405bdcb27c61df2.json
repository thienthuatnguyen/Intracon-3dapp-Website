{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mac/Documents/Intracon-3dapp-Website/app/src/hocs/withAuth.js\";\nimport React from \"react\";\nimport { getAccessToken } from '../utils/storage';\nexport default (App => {\n  var _class, _temp;\n\n  return _temp = _class = class withUserAuth extends React.Component {\n    static async getInitialProps(ctx) {\n      const req = ctx.req,\n            res = ctx.res,\n            asPath = ctx.asPath;\n      const accessToken = getAccessToken(req);\n\n      const redirect = url => {\n        res.redirect(url);\n        res.finished = true;\n        res.end();\n      };\n\n      if (res && !accessToken) {\n        redirect('/');\n      }\n\n      return _objectSpread({\n        pathname: asPath\n      }, App.getInitialProps ? await App.getInitialProps(ctx) : {});\n    }\n\n    render() {\n      const props = this.props;\n      return React.createElement(App, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }));\n    }\n\n  }, _defineProperty(_class, \"displayName\", `withUserAuth(${App.displayName})`), _temp;\n});","map":{"version":3,"sources":["/Users/mac/Documents/Intracon-3dapp-Website/app/src/hocs/withAuth.js"],"names":["getAccessToken","App","withUserAuth","React","Component","getInitialProps","ctx","req","res","asPath","accessToken","redirect","url","finished","end","pathname","render","props","displayName"],"mappings":";;;;;AAAA,SAASA,cAAT,QAA+B,kBAA/B;AAEA,gBAAeC,GAAG;AAAA;;AAAA,0BAAI,MAAMC,YAAN,SAA2BC,KAAK,CAACC,SAAjC,CAA2C;AAG7D,iBAAaC,eAAb,CAA6BC,GAA7B,EAAkC;AAAA,YACxBC,GADwB,GACHD,GADG,CACxBC,GADwB;AAAA,YACnBC,GADmB,GACHF,GADG,CACnBE,GADmB;AAAA,YACdC,MADc,GACHH,GADG,CACdG,MADc;AAEhC,YAAMC,WAAW,GAAGV,cAAc,CAACO,GAAD,CAAlC;;AACA,YAAMI,QAAQ,GAAIC,GAAD,IAAS;AACxBJ,QAAAA,GAAG,CAACG,QAAJ,CAAaC,GAAb;AACAJ,QAAAA,GAAG,CAACK,QAAJ,GAAe,IAAf;AACAL,QAAAA,GAAG,CAACM,GAAJ;AACD,OAJD;;AAKA,UAAIN,GAAG,IAAI,CAACE,WAAZ,EAAyB;AACvBC,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACD;;AAED;AACEI,QAAAA,QAAQ,EAAEN;AADZ,SAEMR,GAAG,CAACI,eAAJ,GAAsB,MAAMJ,GAAG,CAACI,eAAJ,CAAoBC,GAApB,CAA5B,GAAuD,EAF7D;AAID;;AAEDU,IAAAA,MAAM,GAAG;AAAA,YACCC,KADD,GACW,IADX,CACCA,KADD;AAEP,aACE,oBAAC,GAAD,eAASA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAGD;;AA1B4D,GAA/C,yCACQ,gBAAehB,GAAG,CAACiB,WAAY,GADvC;AAAA,CAAlB","sourcesContent":["import { getAccessToken } from '../utils/storage'\n\nexport default App => class withUserAuth extends React.Component {\n    static displayName = `withUserAuth(${App.displayName})`\n\n    static async getInitialProps(ctx) {\n      const { req, res, asPath } = ctx\n      const accessToken = getAccessToken(req)\n      const redirect = (url) => {\n        res.redirect(url)\n        res.finished = true\n        res.end()\n      }\n      if (res && !accessToken) {\n        redirect('/')\n      }\n\n      return {\n        pathname: asPath,\n        ...(App.getInitialProps ? await App.getInitialProps(ctx) : {})\n      }\n    }\n\n    render() {\n      const { props } = this\n      return (\n        <App {...props} />\n      )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}