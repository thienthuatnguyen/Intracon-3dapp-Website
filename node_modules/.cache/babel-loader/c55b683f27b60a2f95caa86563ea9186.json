{"ast":null,"code":"import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/mac/Documents/Intracon-3dapp-Website/app/src/components/Layout/SideMenu.js\";\n\n/* eslint-disable no-loops/no-loops */\n\n/* eslint-disable no-undef */\nimport styled from 'styled-components';\nimport React, { Component } from 'react';\nimport propTypes from 'prop-types';\nimport ToggleContentParent from '../ToggleContentParent';\nimport Menu from '../../services/menu';\nimport Image from '../../services/image';\nimport Authorization from '../../services/authorization';\nimport Document from '../../services/document';\nimport { removeAccessToken } from '../../utils/storage';\nimport RowItem from '../UI/ItemSideMenu/RowItem';\nimport RowItemDocument from '../UI/ItemSideMenu/RowItemDocument';\nimport TextDocument from '../UI/ItemSideMenu/TextDocument';\nimport RowItemSub from '../UI/ItemSideMenu/RowItemSub';\nimport TextSub from '../UI/ItemSideMenu/TextSub';\nimport Icon from '../UI/ItemSideMenu/Icon';\nimport Text from '../UI/ItemSideMenu/Text';\nimport NewItem from '../UI/ItemSideMenu/NewItem';\nimport { HomeIcon, ContactIcon, FavoritesIcon, CostCalculator } from '../Icons';\nimport IconDocument from '../IconDocument';\nimport PopupChangeLanguage from '../PopupChangeLanguage';\nimport FlagDocument from '../FlagDocument';\n\nclass SideMenu extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      rawMenus: '',\n      openId: '',\n      menus: [],\n      layers: []\n    });\n\n    _defineProperty(this, \"setWrapperRef\", node => {\n      this.wrapperRef = node;\n    });\n\n    _defineProperty(this, \"getCallBack\", async (value, animation, hashing) => {\n      await this.getCallBackChild(value, 0, animation, hashing);\n      this.setState({\n        openId: value\n      });\n    });\n\n    _defineProperty(this, \"getCallBackChild\", async (value, layerIndex, animation, hashing) => {\n      const _this$state = this.state,\n            rawMenus = _this$state.rawMenus,\n            layers = _this$state.layers;\n      const menu = rawMenus.filter(menu => menu.id == value)[0];\n      const menus = rawMenus.filter(menu => menu.parentMenuId == value);\n      const documents = menu.documentList;\n      const isCalendar = menu.name.toLowerCase().indexOf('3dp training') == -1 ? false : true; // change hash location so it can perform go back function\n\n      if (!hashing) {\n        const hashes = layerIndex == 0 ? [] : location.hash.split('/');\n\n        if (hashes[layerIndex]) {\n          hashes[layerIndex] = value;\n        } else {\n          hashes.push(value);\n        }\n\n        location.hash = hashes.join('/');\n      }\n\n      if (!isCalendar && menus.length == 0 && documents.length == 0) {\n        if (layers.length > 0 && layers[layerIndex - 1]) {\n          layers[layerIndex - 1].openId = value;\n        }\n\n        if (layerIndex == 0) {\n          const el = document.getElementById('bgMainPage');\n          Image.getUrl(menu.backgroundId).then(img => {\n            el.style.backgroundImage = `url('${img.data}')`;\n            el.style.display = 'block';\n          });\n        }\n\n        layers.splice(layerIndex);\n        this.setState({\n          layers\n        });\n      } else {\n        const num = layerIndex - 1;\n\n        if (layerIndex > 2) {\n          if (animation && num + 1 == layers.length) {\n            $(`#layer${num}`).css({\n              'z-index': 1100\n            });\n            await $(`#layer${num}`).animate({\n              'left': '-=200px'\n            }).promise();\n\n            if (layers[num]) {\n              layers[num].styleIndex = 1;\n            }\n          }\n\n          this.setDataState(layers, value, layerIndex, animation);\n        } else {\n          this.setDataState(layers, value, layerIndex, animation);\n        }\n      }\n    });\n\n    _defineProperty(this, \"setDataState\", (stateLayers, value, layerIndex, animation) => {\n      const rawMenus = this.state.rawMenus;\n      const layers = [...stateLayers];\n      const menu = rawMenus.filter(menu => menu.id == value)[0];\n      const menus = rawMenus.filter(menu => menu.parentMenuId == value);\n      const documents = menu.documentList;\n\n      if (layerIndex == 0) {\n        // click on non main page (contact, setting, calendar pages)\n        const el = document.getElementById('bgMainPage'); // change background if it is on main page\n\n        Image.getUrl(menu.backgroundId).then(img => {\n          el.style.backgroundImage = `url('${img.data}')`;\n          el.style.display = 'block';\n        });\n      }\n\n      layers.splice(layerIndex); // sort menus by position\n\n      const docData = documents.sort((a, b) => a.position - b.position);\n      const theCalendar = menu.name.toLowerCase().indexOf('3dp training') == -1 ? false : true;\n      layers.push({\n        id: `layer${layerIndex}`,\n        index: layerIndex,\n        styleIndex: layerIndex > 2 ? 2 : layerIndex,\n        parentMenuId: value,\n        menus: menus,\n        documents: docData,\n        isCalendar: theCalendar,\n        isActive: true\n      });\n      const lastIndex = layerIndex == 0 ? layerIndex : layerIndex - 1;\n      layers[lastIndex].openId = value;\n      let layerLength = layers.length;\n      this.setState({\n        layers\n      }, () => {\n        // perform slide in / slide out effect\n        let numId = layerIndex.toString();\n        let idLayer = '#layer' + numId;\n\n        for (let x = layerIndex; x < layerLength; x++) {\n          $(`#side-menu-user #layer${x}`).css({\n            display: 'none',\n            width: 0\n          });\n        }\n\n        if (animation) {\n          $(`#side-menu-user ${idLayer}`).delay(300).css({\n            display: 'block'\n          }).animate({\n            width: 300\n          });\n        } else {\n          $(`#side-menu-user ${idLayer}`).css({\n            display: 'block',\n            width: 300\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"handleClickOutside\", event => {\n      if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n        var elements = document.querySelectorAll('.sub-menu-child');\n\n        for (let i = 0; i < elements.length; i++) {\n          elements[i].classList.remove('open');\n        }\n      }\n    });\n  }\n\n  async componentDidMount() {\n    const staticValue = this.props.staticValue;\n    document.addEventListener('mousedown', this.handleClickOutside);\n    const menus = [];\n    const response = await Menu.getAll();\n    response.data.sort((a, b) => a.position - b.position);\n    response.data.forEach(item => {\n      item.viewed = true;\n\n      if (!item.parentMenuId) {\n        menus.push(item);\n      }\n    });\n    this.setState({\n      openId: staticValue,\n      menus,\n      rawMenus: response.data\n    }, async () => {\n      $('.bottom-item').show().css('display', 'flex'); // parse the hashes and restore menu states\n\n      const hashes = location.hash.split('/');\n\n      for (let x = 0; x < hashes.length; x++) {\n        hashes[x] = hashes[x].replace('#', '');\n\n        if (hashes[x]) {\n          if (x == 0) {\n            await this.getCallBack(hashes[x], false, true);\n          } else {\n            await this.getCallBackChild(hashes[x], x, false, true);\n          }\n        }\n      } // build viewed data\n\n\n      this.buildViewedDocument();\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  buildViewedDocument() {\n    const rawMenus = this.state.rawMenus;\n    const documents = rawMenus.map(menu => menu.documentList).flat();\n    documents.forEach(doc => {\n      if (!doc.viewed) {\n        let finalMenu = doc.menuId; // set new icon to the parent\n\n        while (finalMenu) {\n          rawMenus.forEach(menu => {\n            if (menu.id == finalMenu) {\n              menu.viewed = false;\n              finalMenu = menu.parentMenuId;\n            }\n          });\n        }\n      }\n    });\n    this.setState({\n      rawMenus\n    });\n  }\n\n  closeAllLayer() {\n    var elements = document.querySelectorAll('.sub-menu-child');\n\n    for (let i = 1; i < elements.length; i++) {\n      elements[i].classList.remove('open');\n    }\n  }\n\n  logout() {\n    try {\n      Authorization.logout('web').then(response => {\n        removeAccessToken();\n\n        if (response.data != 'OK') {\n          window.location = response.data;\n        } else {\n          window.location = '/';\n        }\n      }).error(response => {\n        removeAccessToken();\n        window.location = '/';\n      });\n    } catch (err) {\n      removeAccessToken();\n      window.location = '/';\n    }\n  }\n\n  openHomePage() {\n    window.location.href = '/';\n  }\n\n  openCalendar() {\n    window.location.href = '/calendar';\n  }\n\n  openDocument(menu, document, lang) {\n    Document.viewedDocuments(document).then(() => {\n      const temp = lang ? lang : 'en';\n      window.location.href = `/content-viewer?menuId=${menu}&document=${document}&lang=${temp}`;\n    });\n  }\n\n  async openFavorites() {\n    const _this$state2 = this.state,\n          layers = _this$state2.layers,\n          rawMenus = _this$state2.rawMenus;\n    const documents = await Document.favoriteDocuments();\n    const temp = rawMenus.map(menu => menu.documentList.map(item => item.id)).flat();\n    const result = [];\n\n    if (temp) {\n      documents.data.forEach(item => {\n        if (temp.includes(item.documentDTO.id)) {\n          result.push(item.documentDTO);\n        }\n      });\n    }\n\n    layers.splice(0);\n    layers.push({\n      id: 'layer0',\n      index: 0,\n      styleIndex: 0,\n      parentMenuId: 'favorite',\n      menus: [],\n      documents: result,\n      isActive: true\n    });\n    this.setState({\n      openId: 'fav',\n      layers\n    }, () => {\n      // perform slide in / slide out effect for favorite page\n      let idLayer = '#layer0';\n      $(`#side-menu-user ${idLayer}`).css({\n        display: 'none',\n        width: 0\n      });\n      $(`#side-menu-user ${idLayer}`).delay(300).css({\n        display: 'block'\n      }).animate({\n        width: 300\n      });\n    });\n  }\n\n  openContactPage() {\n    window.location.href = '/contact';\n  }\n\n  openCalculator() {\n    window.open('https://www.printos.com', '_blank');\n  }\n\n  render(props) {\n    const staticValue = this.props.staticValue;\n    const _this$state3 = this.state,\n          openId = _this$state3.openId,\n          menus = _this$state3.menus,\n          layers = _this$state3.layers;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(WrapperSideMenu, {\n      id: \"side-menu-user\",\n      ref: this.setWrapperRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(RowItem, {\n      className: openId == 'homepage' ? 'active row-item bottom-item' : 'row-item bottom-item',\n      onClick: () => this.openHomePage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"icon-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(HomeIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    })), React.createElement(Text, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Home\")), menus.map(item => React.createElement(ToggleContentParent, {\n      key: item.id,\n      selectedIcon: item.primaryIconId,\n      unSelectedIcon: item.secondaryIconId,\n      imageId: item.primaryIconId,\n      title: item.name,\n      id: item.id,\n      keyId: openId,\n      getData: this.getCallBack,\n      viewed: item.viewed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    })), React.createElement(RowItem, {\n      className: openId == 'fav' ? 'active row-item bottom-item' : 'row-item bottom-item',\n      onClick: () => this.openFavorites(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"icon-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(FavoritesIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    })), React.createElement(Text, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, \"Favorites\")), React.createElement(RowItem, {\n      className: openId === 'contact' ? 'active row-item bottom-item' : 'row-item bottom-item',\n      onClick: () => this.openContactPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"icon-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(ContactIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    })), React.createElement(Text, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"Contact\")), React.createElement(RowItem, {\n      className: 'row-item bottom-item',\n      onClick: () => this.openCalculator(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"icon-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(CostCalculator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    })), React.createElement(Text, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"Cost Calculator\")), layers && layers.map(layer => React.createElement(WrapperSideMenuPlayer, {\n      key: layer.id,\n      id: 'layer' + layer.index,\n      style: {\n        left: `${(layer.styleIndex + 1) * 100}%`,\n        zIndex: 1000 - layer.styleIndex\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, layer.isCalendar && React.createElement(RowItemSub, {\n      role: \"button\",\n      className: openId === 'calendar' ? 'active row-item' : 'row-item',\n      key: \"calendar\",\n      onClick: e => this.openCalendar(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(TextSub, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, \"WW 3DP Training Calendar\")), layer.menus && layer.menus.map(menu => React.createElement(RowItemSub, {\n      role: \"button\",\n      className: layer.openId == menu.id ? 'active row-item' : 'row-item',\n      key: menu.id,\n      onClick: e => this.getCallBackChild(menu.id, layer.index + 1, true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, React.createElement(TextSub, {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, menu.name), !menu.viewed && React.createElement(NewItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }))), layer.documents && layer.documents.map(document => React.createElement(RowItemDocument, {\n      role: \"button\",\n      className: layer.openId == document.id ? 'active row-item' : 'row-item',\n      key: document.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      onClick: e => this.openDocument(layer.parentMenuId, document.id),\n      className: \"icon-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(IconDocument, {\n      documentType: document.documentType ? document.documentType : document.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    })), React.createElement(TextDocument, {\n      onClick: e => this.openDocument(layer.parentMenuId, document.id),\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, document.name), document.languages && document.languages.length > 1 && React.createElement(PopupChangeLanguage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, document.languages.map(lang => React.createElement(\"div\", {\n      role: \"button\",\n      tabIndex: 0,\n      onKeyUp: e => this.openDocument(layer.parentMenuId, document.id, lang.toLowerCase()),\n      onClick: e => this.openDocument(layer.parentMenuId, document.id, lang.toLowerCase()),\n      className: \"row-country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"icon-flag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, React.createElement(FlagDocument, {\n      lang: lang.toLowerCase(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, lang.toUpperCase())))), !document.viewed && React.createElement(NewItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"bottom-menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => this.logout(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(\"a\", {\n      className: staticValue === 'setting' ? 'active' : '',\n      href: \"/app-setting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, \"App Settings\"), React.createElement(\"a\", {\n      className: staticValue === 'term' ? 'active' : '',\n      href: \"/term-and-conditions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, \"Term and conditions\"))));\n  }\n\n}\n\nSideMenu.propTypes = {\n  staticValue: propTypes.string\n};\nconst WrapperSideMenuPlayer = styled.div.withConfig({\n  displayName: \"SideMenu__WrapperSideMenuPlayer\",\n  componentId: \"sc-6rupqb-0\"\n})([\"background-color:\", \";position:absolute;height:100%;top:0;width:0;border-right:1px solid \", \";padding:0;box-sizing:border-box;opacity:1;z-index:10;\"], props => props.theme.colorContent, props => props.theme.colorBlue);\nconst WrapperSideMenu = styled.div.withConfig({\n  displayName: \"SideMenu__WrapperSideMenu\",\n  componentId: \"sc-6rupqb-1\"\n})([\"width:300px;flex:1 1 auto;background-color:\", \";position:relative;padding-top:60px;min-width:300px;box-sizing:border-box;border-right:1px solid \", \";display:flex;flex-direction:column;.content-menu{flex:1 1 100%;overflow-y:scroll;}.bottom-menu{flex:1 1 auto;display:flex;flex-direction:column;padding-left:20px;padding-bottom:15px;padding-top:10px;a{color:\", \" !important;font-size:\", \";padding:2px 0;&.active{font-size:17px;}}}.bottom-item{display:none;}\"], props => props.theme.colorBlue, props => props.theme.colorBlue, props => props.theme.colorWhite, props => props.theme.languagesSize);\nexport default SideMenu;","map":{"version":3,"sources":["/Users/mac/Documents/Intracon-3dapp-Website/app/src/components/Layout/SideMenu.js"],"names":["styled","React","Component","propTypes","ToggleContentParent","Menu","Image","Authorization","Document","removeAccessToken","RowItem","RowItemDocument","TextDocument","RowItemSub","TextSub","Icon","Text","NewItem","HomeIcon","ContactIcon","FavoritesIcon","CostCalculator","IconDocument","PopupChangeLanguage","FlagDocument","SideMenu","rawMenus","openId","menus","layers","node","wrapperRef","value","animation","hashing","getCallBackChild","setState","layerIndex","state","menu","filter","id","parentMenuId","documents","documentList","isCalendar","name","toLowerCase","indexOf","hashes","location","hash","split","push","join","length","el","document","getElementById","getUrl","backgroundId","then","img","style","backgroundImage","data","display","splice","num","$","css","animate","promise","styleIndex","setDataState","stateLayers","docData","sort","a","b","position","theCalendar","index","isActive","lastIndex","layerLength","numId","toString","idLayer","x","width","delay","event","contains","target","elements","querySelectorAll","i","classList","remove","componentDidMount","staticValue","props","addEventListener","handleClickOutside","response","getAll","forEach","item","viewed","show","replace","getCallBack","buildViewedDocument","componentWillUnmount","removeEventListener","map","flat","doc","finalMenu","menuId","closeAllLayer","logout","window","error","err","openHomePage","href","openCalendar","openDocument","lang","viewedDocuments","temp","openFavorites","favoriteDocuments","result","includes","documentDTO","openContactPage","openCalculator","open","render","setWrapperRef","primaryIconId","secondaryIconId","layer","left","zIndex","e","documentType","type","languages","toUpperCase","string","WrapperSideMenuPlayer","div","theme","colorContent","colorBlue","WrapperSideMenu","colorWhite","languagesSize"],"mappings":";;;;;;;AAAA;;AACA;AACA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,mBAAP,MAAgC,wBAAhC;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,aAAhC,EAA+CC,cAA/C,QAAqE,UAArE;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,mBAAP,MAAgC,wBAAhC;AACA,OAAOC,YAAP,MAAyB,iBAAzB;;AAEA,MAAMC,QAAN,SAAuBvB,SAAvB,CAAiC;AAAA;AAAA;;AAAA,mCACvB;AACNwB,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,MAAM,EAAE;AAJF,KADuB;;AAAA,2CA8CdC,IAAD,IAAU;AACxB,WAAKC,UAAL,GAAkBD,IAAlB;AACD,KAhD8B;;AAAA,yCAkDjB,OAAOE,KAAP,EAAcC,SAAd,EAAyBC,OAAzB,KAAqC;AACjD,YAAM,KAAKC,gBAAL,CAAsBH,KAAtB,EAA6B,CAA7B,EAAgCC,SAAhC,EAA2CC,OAA3C,CAAN;AACA,WAAKE,QAAL,CAAc;AAAET,QAAAA,MAAM,EAAEK;AAAV,OAAd;AACD,KArD8B;;AAAA,8CAuDZ,OAAOA,KAAP,EAAcK,UAAd,EAA0BJ,SAA1B,EAAqCC,OAArC,KAAiD;AAAA,0BACrC,KAAKI,KADgC;AAAA,YAC1DZ,QAD0D,eAC1DA,QAD0D;AAAA,YAChDG,MADgD,eAChDA,MADgD;AAElE,YAAMU,IAAI,GAAGb,QAAQ,CAACc,MAAT,CAAgBD,IAAI,IAAIA,IAAI,CAACE,EAAL,IAAWT,KAAnC,EAA0C,CAA1C,CAAb;AACA,YAAMJ,KAAK,GAAGF,QAAQ,CAACc,MAAT,CAAgBD,IAAI,IAAIA,IAAI,CAACG,YAAL,IAAqBV,KAA7C,CAAd;AACA,YAAMW,SAAS,GAAGJ,IAAI,CAACK,YAAvB;AACA,YAAMC,UAAU,GAAGN,IAAI,CAACO,IAAL,CAAUC,WAAV,GAAwBC,OAAxB,CAAgC,cAAhC,KAAmD,CAAC,CAApD,GAAwD,KAAxD,GAA+D,IAAlF,CALkE,CAOlE;;AACA,UAAI,CAACd,OAAL,EAAc;AACZ,cAAMe,MAAM,GAAGZ,UAAU,IAAI,CAAd,GAAkB,EAAlB,GAAuBa,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,CAAtC;;AACA,YAAIH,MAAM,CAACZ,UAAD,CAAV,EAAwB;AACtBY,UAAAA,MAAM,CAACZ,UAAD,CAAN,GAAqBL,KAArB;AACD,SAFD,MAEO;AACLiB,UAAAA,MAAM,CAACI,IAAP,CAAYrB,KAAZ;AACD;;AACDkB,QAAAA,QAAQ,CAACC,IAAT,GAAgBF,MAAM,CAACK,IAAP,CAAY,GAAZ,CAAhB;AACD;;AAED,UAAI,CAACT,UAAD,IAAejB,KAAK,CAAC2B,MAAN,IAAgB,CAA/B,IAAoCZ,SAAS,CAACY,MAAV,IAAoB,CAA5D,EAA+D;AAC7D,YAAI1B,MAAM,CAAC0B,MAAP,GAAgB,CAAhB,IAAqB1B,MAAM,CAACQ,UAAU,GAAG,CAAd,CAA/B,EAAiD;AAC/CR,UAAAA,MAAM,CAACQ,UAAU,GAAG,CAAd,CAAN,CAAuBV,MAAvB,GAAgCK,KAAhC;AACD;;AAED,YAAIK,UAAU,IAAI,CAAlB,EAAqB;AACnB,gBAAMmB,EAAE,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAX;AACApD,UAAAA,KAAK,CAACqD,MAAN,CAAapB,IAAI,CAACqB,YAAlB,EAAgCC,IAAhC,CAAqCC,GAAG,IAAI;AAC1CN,YAAAA,EAAE,CAACO,KAAH,CAASC,eAAT,GAA4B,QAAOF,GAAG,CAACG,IAAK,IAA5C;AACAT,YAAAA,EAAE,CAACO,KAAH,CAASG,OAAT,GAAmB,OAAnB;AACD,WAHD;AAID;;AAEDrC,QAAAA,MAAM,CAACsC,MAAP,CAAc9B,UAAd;AACA,aAAKD,QAAL,CAAc;AAAEP,UAAAA;AAAF,SAAd;AACD,OAfD,MAeO;AACL,cAAMuC,GAAG,GAAG/B,UAAU,GAAG,CAAzB;;AACA,YAAIA,UAAU,GAAG,CAAjB,EAAoB;AAClB,cAAIJ,SAAS,IAAImC,GAAG,GAAG,CAAN,IAAWvC,MAAM,CAAC0B,MAAnC,EAA4C;AAC1Cc,YAAAA,CAAC,CAAE,SAAQD,GAAI,EAAd,CAAD,CAAkBE,GAAlB,CAAsB;AAAE,yBAAW;AAAb,aAAtB;AACA,kBAAMD,CAAC,CAAE,SAAQD,GAAI,EAAd,CAAD,CAAkBG,OAAlB,CAA0B;AAAE,sBAAQ;AAAV,aAA1B,EAAiDC,OAAjD,EAAN;;AACA,gBAAI3C,MAAM,CAACuC,GAAD,CAAV,EAAiB;AACfvC,cAAAA,MAAM,CAACuC,GAAD,CAAN,CAAYK,UAAZ,GAAyB,CAAzB;AACD;AACF;;AACD,eAAKC,YAAL,CAAkB7C,MAAlB,EAA0BG,KAA1B,EAAiCK,UAAjC,EAA6CJ,SAA7C;AACD,SATD,MASO;AACL,eAAKyC,YAAL,CAAkB7C,MAAlB,EAA0BG,KAA1B,EAAiCK,UAAjC,EAA6CJ,SAA7C;AACD;AACF;AACF,KAvG8B;;AAAA,0CAyGhB,CAAC0C,WAAD,EAAc3C,KAAd,EAAqBK,UAArB,EAAiCJ,SAAjC,KAA+C;AAAA,YACpDP,QADoD,GACvC,KAAKY,KADkC,CACpDZ,QADoD;AAE5D,YAAMG,MAAM,GAAG,CAAC,GAAG8C,WAAJ,CAAf;AACA,YAAMpC,IAAI,GAAGb,QAAQ,CAACc,MAAT,CAAgBD,IAAI,IAAIA,IAAI,CAACE,EAAL,IAAWT,KAAnC,EAA0C,CAA1C,CAAb;AACA,YAAMJ,KAAK,GAAGF,QAAQ,CAACc,MAAT,CAAgBD,IAAI,IAAIA,IAAI,CAACG,YAAL,IAAqBV,KAA7C,CAAd;AACA,YAAMW,SAAS,GAAGJ,IAAI,CAACK,YAAvB;;AAEA,UAAIP,UAAU,IAAI,CAAlB,EAAqB;AACnB;AACA,cAAMmB,EAAE,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAX,CAFmB,CAInB;;AACApD,QAAAA,KAAK,CAACqD,MAAN,CAAapB,IAAI,CAACqB,YAAlB,EAAgCC,IAAhC,CAAqCC,GAAG,IAAI;AAC1CN,UAAAA,EAAE,CAACO,KAAH,CAASC,eAAT,GAA4B,QAAOF,GAAG,CAACG,IAAK,IAA5C;AACAT,UAAAA,EAAE,CAACO,KAAH,CAASG,OAAT,GAAmB,OAAnB;AACD,SAHD;AAID;;AAEDrC,MAAAA,MAAM,CAACsC,MAAP,CAAc9B,UAAd,EAlB4D,CAoB5D;;AACA,YAAMuC,OAAO,GAAGjC,SAAS,CAACkC,IAAV,CAAe,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAAxC,CAAhB;AACA,YAAMC,WAAW,GAAG1C,IAAI,CAACO,IAAL,CAAUC,WAAV,GAAwBC,OAAxB,CAAgC,cAAhC,KAAmD,CAAC,CAApD,GAAwD,KAAxD,GAA+D,IAAnF;AAEAnB,MAAAA,MAAM,CAACwB,IAAP,CAAY;AACVZ,QAAAA,EAAE,EAAG,QAAOJ,UAAW,EADb;AAEV6C,QAAAA,KAAK,EAAE7C,UAFG;AAGVoC,QAAAA,UAAU,EAAEpC,UAAU,GAAG,CAAb,GAAiB,CAAjB,GAAqBA,UAHvB;AAIVK,QAAAA,YAAY,EAAEV,KAJJ;AAKVJ,QAAAA,KAAK,EAAEA,KALG;AAMVe,QAAAA,SAAS,EAAEiC,OAND;AAOV/B,QAAAA,UAAU,EAAEoC,WAPF;AAQVE,QAAAA,QAAQ,EAAE;AARA,OAAZ;AAWA,YAAMC,SAAS,GAAG/C,UAAU,IAAI,CAAd,GAAkBA,UAAlB,GAA+BA,UAAU,GAAG,CAA9D;AACAR,MAAAA,MAAM,CAACuD,SAAD,CAAN,CAAkBzD,MAAlB,GAA2BK,KAA3B;AAEA,UAAIqD,WAAW,GAAGxD,MAAM,CAAC0B,MAAzB;AACA,WAAKnB,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd,EAA0B,MAAM;AAE9B;AACA,YAAIyD,KAAK,GAAIjD,UAAD,CAAakD,QAAb,EAAZ;AACA,YAAIC,OAAO,GAAG,WAAWF,KAAzB;;AAEA,aAAK,IAAIG,CAAC,GAAGpD,UAAb,EAAyBoD,CAAC,GAAGJ,WAA7B,EAAyCI,CAAC,EAA1C,EAA8C;AAC5CpB,UAAAA,CAAC,CAAE,yBAAwBoB,CAAE,EAA5B,CAAD,CAAgCnB,GAAhC,CAAoC;AAAEJ,YAAAA,OAAO,EAAE,MAAX;AAAmBwB,YAAAA,KAAK,EAAE;AAA1B,WAApC;AACD;;AAED,YAAIzD,SAAJ,EAAe;AACboC,UAAAA,CAAC,CAAE,mBAAkBmB,OAAQ,EAA5B,CAAD,CAAgCG,KAAhC,CAAsC,GAAtC,EAA2CrB,GAA3C,CAA+C;AAAEJ,YAAAA,OAAO,EAAE;AAAX,WAA/C,EAAqEK,OAArE,CAA6E;AAAEmB,YAAAA,KAAK,EAAE;AAAT,WAA7E;AACD,SAFD,MAEO;AACLrB,UAAAA,CAAC,CAAE,mBAAkBmB,OAAQ,EAA5B,CAAD,CAAgClB,GAAhC,CAAoC;AAAEJ,YAAAA,OAAO,EAAE,OAAX;AAAoBwB,YAAAA,KAAK,EAAE;AAA3B,WAApC;AACD;AACF,OAfD;AAgBD,KAhK8B;;AAAA,gDAkKVE,KAAK,IAAI;AAC5B,UAAI,KAAK7D,UAAL,IAAmB,CAAC,KAAKA,UAAL,CAAgB8D,QAAhB,CAAyBD,KAAK,CAACE,MAA/B,CAAxB,EAAgE;AAC9D,YAAIC,QAAQ,GAAGtC,QAAQ,CAACuC,gBAAT,CAA0B,iBAA1B,CAAf;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACxC,MAA7B,EAAqC0C,CAAC,EAAtC,EAA0C;AACxCF,UAAAA,QAAQ,CAACE,CAAD,CAAR,CAAYC,SAAZ,CAAsBC,MAAtB,CAA6B,MAA7B;AACD;AACF;AACF,KAzK8B;AAAA;;AAQ/B,QAAMC,iBAAN,GAA0B;AAAA,UAChBC,WADgB,GACA,KAAKC,KADL,CAChBD,WADgB;AAExB5C,IAAAA,QAAQ,CAAC8C,gBAAT,CAA0B,WAA1B,EAAuC,KAAKC,kBAA5C;AACA,UAAM5E,KAAK,GAAG,EAAd;AACA,UAAM6E,QAAQ,GAAG,MAAMpG,IAAI,CAACqG,MAAL,EAAvB;AACAD,IAAAA,QAAQ,CAACxC,IAAT,CAAcY,IAAd,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAA5C;AACAyB,IAAAA,QAAQ,CAACxC,IAAT,CAAc0C,OAAd,CAAsBC,IAAI,IAAI;AAC5BA,MAAAA,IAAI,CAACC,MAAL,GAAc,IAAd;;AACA,UAAI,CAACD,IAAI,CAAClE,YAAV,EAAwB;AACtBd,QAAAA,KAAK,CAACyB,IAAN,CAAWuD,IAAX;AACD;AACF,KALD;AAOA,SAAKxE,QAAL,CAAc;AAAET,MAAAA,MAAM,EAAE0E,WAAV;AAAuBzE,MAAAA,KAAvB;AAA8BF,MAAAA,QAAQ,EAAE+E,QAAQ,CAACxC;AAAjD,KAAd,EAAuE,YAAY;AACjFI,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkByC,IAAlB,GAAyBxC,GAAzB,CAA6B,SAA7B,EAAuC,MAAvC,EADiF,CAGjF;;AACA,YAAMrB,MAAM,GAAGC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,CAAf;;AACA,WAAK,IAAIqC,CAAC,GAAG,CAAb,EAAeA,CAAC,GAAGxC,MAAM,CAACM,MAA1B,EAAiCkC,CAAC,EAAlC,EAAsC;AACpCxC,QAAAA,MAAM,CAACwC,CAAD,CAAN,GAAYxC,MAAM,CAACwC,CAAD,CAAN,CAAUsB,OAAV,CAAkB,GAAlB,EAAuB,EAAvB,CAAZ;;AACA,YAAI9D,MAAM,CAACwC,CAAD,CAAV,EAAe;AACb,cAAIA,CAAC,IAAI,CAAT,EAAY;AACV,kBAAM,KAAKuB,WAAL,CAAiB/D,MAAM,CAACwC,CAAD,CAAvB,EAA4B,KAA5B,EAAmC,IAAnC,CAAN;AACD,WAFD,MAEO;AACL,kBAAM,KAAKtD,gBAAL,CAAsBc,MAAM,CAACwC,CAAD,CAA5B,EAAiCA,CAAjC,EAAoC,KAApC,EAA2C,IAA3C,CAAN;AACD;AACF;AACF,OAdgF,CAgBjF;;;AACA,WAAKwB,mBAAL;AACD,KAlBD;AAmBD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrBzD,IAAAA,QAAQ,CAAC0D,mBAAT,CAA6B,WAA7B,EAA0C,KAAKX,kBAA/C;AACD;;AA+HDS,EAAAA,mBAAmB,GAAG;AAAA,UACZvF,QADY,GACC,KAAKY,KADN,CACZZ,QADY;AAEpB,UAAMiB,SAAS,GAAGjB,QAAQ,CAAC0F,GAAT,CAAa7E,IAAI,IAAIA,IAAI,CAACK,YAA1B,EAAwCyE,IAAxC,EAAlB;AACA1E,IAAAA,SAAS,CAACgE,OAAV,CAAkBW,GAAG,IAAI;AACvB,UAAI,CAACA,GAAG,CAACT,MAAT,EAAiB;AACf,YAAIU,SAAS,GAAGD,GAAG,CAACE,MAApB,CADe,CAEf;;AACA,eAAOD,SAAP,EAAkB;AAChB7F,UAAAA,QAAQ,CAACiF,OAAT,CAAiBpE,IAAI,IAAI;AACvB,gBAAIA,IAAI,CAACE,EAAL,IAAW8E,SAAf,EAA0B;AACxBhF,cAAAA,IAAI,CAACsE,MAAL,GAAc,KAAd;AACAU,cAAAA,SAAS,GAAGhF,IAAI,CAACG,YAAjB;AACD;AACF,WALD;AAMD;AACF;AACF,KAbD;AAeA,SAAKN,QAAL,CAAc;AAAEV,MAAAA;AAAF,KAAd;AACD;;AAED+F,EAAAA,aAAa,GAAG;AACd,QAAI1B,QAAQ,GAAGtC,QAAQ,CAACuC,gBAAT,CAA0B,iBAA1B,CAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACxC,MAA7B,EAAqC0C,CAAC,EAAtC,EAA0C;AACxCF,MAAAA,QAAQ,CAACE,CAAD,CAAR,CAAYC,SAAZ,CAAsBC,MAAtB,CAA6B,MAA7B;AACD;AACF;;AAEDuB,EAAAA,MAAM,GAAG;AACP,QAAI;AACFnH,MAAAA,aAAa,CAACmH,MAAd,CAAqB,KAArB,EAA4B7D,IAA5B,CAAiC4C,QAAQ,IAAI;AAC3ChG,QAAAA,iBAAiB;;AACjB,YAAIgG,QAAQ,CAACxC,IAAT,IAAiB,IAArB,EAA2B;AACzB0D,UAAAA,MAAM,CAACzE,QAAP,GAAkBuD,QAAQ,CAACxC,IAA3B;AACD,SAFD,MAEO;AACL0D,UAAAA,MAAM,CAACzE,QAAP,GAAkB,GAAlB;AACD;AACF,OAPD,EAOG0E,KAPH,CAOSnB,QAAQ,IAAI;AACnBhG,QAAAA,iBAAiB;AACjBkH,QAAAA,MAAM,CAACzE,QAAP,GAAkB,GAAlB;AACD,OAVD;AAWD,KAZD,CAYE,OAAM2E,GAAN,EAAW;AACXpH,MAAAA,iBAAiB;AACjBkH,MAAAA,MAAM,CAACzE,QAAP,GAAkB,GAAlB;AACD;AACF;;AAED4E,EAAAA,YAAY,GAAG;AACbH,IAAAA,MAAM,CAACzE,QAAP,CAAgB6E,IAAhB,GAAuB,GAAvB;AACD;;AAEDC,EAAAA,YAAY,GAAG;AACbL,IAAAA,MAAM,CAACzE,QAAP,CAAgB6E,IAAhB,GAAuB,WAAvB;AACD;;AAEDE,EAAAA,YAAY,CAAC1F,IAAD,EAAOkB,QAAP,EAAiByE,IAAjB,EAAuB;AACjC1H,IAAAA,QAAQ,CAAC2H,eAAT,CAAyB1E,QAAzB,EAAmCI,IAAnC,CAAwC,MAAM;AAC5C,YAAMuE,IAAI,GAAGF,IAAI,GAAGA,IAAH,GAAU,IAA3B;AACAP,MAAAA,MAAM,CAACzE,QAAP,CAAgB6E,IAAhB,GAAwB,0BAAyBxF,IAAK,aAAYkB,QAAS,SAAQ2E,IAAK,EAAxF;AACD,KAHD;AAID;;AAED,QAAMC,aAAN,GAAsB;AAAA,yBACS,KAAK/F,KADd;AAAA,UACZT,MADY,gBACZA,MADY;AAAA,UACJH,QADI,gBACJA,QADI;AAEpB,UAAMiB,SAAS,GAAG,MAAMnC,QAAQ,CAAC8H,iBAAT,EAAxB;AACA,UAAMF,IAAI,GAAG1G,QAAQ,CAAC0F,GAAT,CAAa7E,IAAI,IAAIA,IAAI,CAACK,YAAL,CAAkBwE,GAAlB,CAAsBR,IAAI,IAAIA,IAAI,CAACnE,EAAnC,CAArB,EAA6D4E,IAA7D,EAAb;AACA,UAAMkB,MAAM,GAAG,EAAf;;AACA,QAAIH,IAAJ,EAAU;AACRzF,MAAAA,SAAS,CAACsB,IAAV,CAAe0C,OAAf,CAAuBC,IAAI,IAAI;AAC7B,YAAIwB,IAAI,CAACI,QAAL,CAAc5B,IAAI,CAAC6B,WAAL,CAAiBhG,EAA/B,CAAJ,EAAwC;AACtC8F,UAAAA,MAAM,CAAClF,IAAP,CAAYuD,IAAI,CAAC6B,WAAjB;AACD;AACF,OAJD;AAKD;;AACD5G,IAAAA,MAAM,CAACsC,MAAP,CAAc,CAAd;AACAtC,IAAAA,MAAM,CAACwB,IAAP,CAAY;AACVZ,MAAAA,EAAE,EAAE,QADM;AAEVyC,MAAAA,KAAK,EAAE,CAFG;AAGVT,MAAAA,UAAU,EAAE,CAHF;AAIV/B,MAAAA,YAAY,EAAE,UAJJ;AAKVd,MAAAA,KAAK,EAAE,EALG;AAMVe,MAAAA,SAAS,EAAE4F,MAND;AAOVpD,MAAAA,QAAQ,EAAE;AAPA,KAAZ;AAUA,SAAK/C,QAAL,CAAc;AAAET,MAAAA,MAAM,EAAE,KAAV;AAAiBE,MAAAA;AAAjB,KAAd,EAAyC,MAAM;AAC7C;AACA,UAAI2D,OAAO,GAAG,SAAd;AACAnB,MAAAA,CAAC,CAAE,mBAAkBmB,OAAQ,EAA5B,CAAD,CAAgClB,GAAhC,CAAoC;AAAEJ,QAAAA,OAAO,EAAE,MAAX;AAAmBwB,QAAAA,KAAK,EAAE;AAA1B,OAApC;AACArB,MAAAA,CAAC,CAAE,mBAAkBmB,OAAQ,EAA5B,CAAD,CAAgCG,KAAhC,CAAsC,GAAtC,EAA2CrB,GAA3C,CAA+C;AAAEJ,QAAAA,OAAO,EAAE;AAAX,OAA/C,EAAqEK,OAArE,CAA6E;AAAEmB,QAAAA,KAAK,EAAE;AAAT,OAA7E;AACD,KALD;AAMD;;AAEDgD,EAAAA,eAAe,GAAG;AAChBf,IAAAA,MAAM,CAACzE,QAAP,CAAgB6E,IAAhB,GAAuB,UAAvB;AACD;;AAEDY,EAAAA,cAAc,GAAG;AACfhB,IAAAA,MAAM,CAACiB,IAAP,CAAY,yBAAZ,EAAuC,QAAvC;AACD;;AAEDC,EAAAA,MAAM,CAACvC,KAAD,EAAQ;AAAA,UACJD,WADI,GACY,KAAKC,KADjB,CACJD,WADI;AAAA,yBAEsB,KAAK/D,KAF3B;AAAA,UAEJX,MAFI,gBAEJA,MAFI;AAAA,UAEIC,KAFJ,gBAEIA,KAFJ;AAAA,UAEWC,MAFX,gBAEWA,MAFX;AAGZ,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,EAAE,EAAC,gBAApB;AAAqC,MAAA,GAAG,EAAE,KAAKiH,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAEnH,MAAM,IAAI,UAAV,GAAuB,6BAAvB,GAAuD,sBADpE;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKmG,YAAL,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAJF,EAKE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADF,EASIlG,KAAK,CAACwF,GAAN,CAAUR,IAAI,IACZ,oBAAC,mBAAD;AACE,MAAA,GAAG,EAAEA,IAAI,CAACnE,EADZ;AAEE,MAAA,YAAY,EAAEmE,IAAI,CAACmC,aAFrB;AAGE,MAAA,cAAc,EAAEnC,IAAI,CAACoC,eAHvB;AAIE,MAAA,OAAO,EAAEpC,IAAI,CAACmC,aAJhB;AAKE,MAAA,KAAK,EAAEnC,IAAI,CAAC9D,IALd;AAME,MAAA,EAAE,EAAE8D,IAAI,CAACnE,EANX;AAOE,MAAA,KAAK,EAAEd,MAPT;AAQE,MAAA,OAAO,EAAE,KAAKqF,WARhB;AASE,MAAA,MAAM,EAAEJ,IAAI,CAACC,MATf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CATJ,EAuBE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAElF,MAAM,IAAI,KAAV,GAAkB,6BAAlB,GAAkD,sBAD/D;AAEE,MAAA,OAAO,EAAE,MAAM,KAAK0G,aAAL,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAJF,EAKE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,CAvBF,EA8BE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAE1G,MAAM,KAAK,SAAX,GAAuB,6BAAvB,GAAuD,sBADpE;AAEE,MAAA,OAAO,EAAE,MAAM,KAAK+G,eAAL,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAJF,EAKE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,CA9BF,EAqCE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAE,sBADb;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKC,cAAL,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAJF,EAKE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBALF,CArCF,EA6CI9G,MAAM,IAAIA,MAAM,CAACuF,GAAP,CAAW6B,KAAK,IACxB,oBAAC,qBAAD;AACE,MAAA,GAAG,EAAEA,KAAK,CAACxG,EADb;AAEE,MAAA,EAAE,EAAE,UAAUwG,KAAK,CAAC/D,KAFtB;AAGE,MAAA,KAAK,EAAE;AAAEgE,QAAAA,IAAI,EAAG,GAAE,CAACD,KAAK,CAACxE,UAAN,GAAmB,CAApB,IAAyB,GAAI,GAAxC;AAA4C0E,QAAAA,MAAM,EAAE,OAAOF,KAAK,CAACxE;AAAjE,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMIwE,KAAK,CAACpG,UAAN,IACA,oBAAC,UAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAElB,MAAM,KAAK,UAAX,GAAwB,iBAAxB,GAA4C,UAFzD;AAGE,MAAA,GAAG,EAAC,UAHN;AAIE,MAAA,OAAO,EAAEyH,CAAC,IAAI,KAAKpB,YAAL,EAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCANF,CAPJ,EAiBIiB,KAAK,CAACrH,KAAN,IAAeqH,KAAK,CAACrH,KAAN,CAAYwF,GAAZ,CAAgB7E,IAAI,IACjC,oBAAC,UAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAE0G,KAAK,CAACtH,MAAN,IAAgBY,IAAI,CAACE,EAArB,GAA0B,iBAA1B,GAA8C,UAF3D;AAGE,MAAA,GAAG,EAAEF,IAAI,CAACE,EAHZ;AAIE,MAAA,OAAO,EAAE2G,CAAC,IAAI,KAAKjH,gBAAL,CAAsBI,IAAI,CAACE,EAA3B,EAA+BwG,KAAK,CAAC/D,KAAN,GAAc,CAA7C,EAAgD,IAAhD,CAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B3C,IAAI,CAACO,IAA/B,CANF,EAOI,CAACP,IAAI,CAACsE,MAAN,IAAgB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPpB,CADa,CAjBnB,EA8BIoC,KAAK,CAACtG,SAAN,IAAmBsG,KAAK,CAACtG,SAAN,CAAgByE,GAAhB,CAAoB3D,QAAQ,IAC7C,oBAAC,eAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAEwF,KAAK,CAACtH,MAAN,IAAgB8B,QAAQ,CAAChB,EAAzB,GAA8B,iBAA9B,GAAkD,UAF/D;AAGE,MAAA,GAAG,EAAEgB,QAAQ,CAAChB,EAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE2G,CAAC,IAAI,KAAKnB,YAAL,CAAkBgB,KAAK,CAACvG,YAAxB,EAAsCe,QAAQ,CAAChB,EAA/C,CAApB;AAAwE,MAAA,SAAS,EAAC,WAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAc,MAAA,YAAY,EAAEgB,QAAQ,CAAC4F,YAAT,GAAwB5F,QAAQ,CAAC4F,YAAjC,GAAgD5F,QAAQ,CAAC6F,IAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,EAQE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEF,CAAC,IAAI,KAAKnB,YAAL,CAAkBgB,KAAK,CAACvG,YAAxB,EAAsCe,QAAQ,CAAChB,EAA/C,CAA5B;AAAgF,MAAA,SAAS,EAAC,KAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiGgB,QAAQ,CAACX,IAA1G,CARF,EAUIW,QAAQ,CAAC8F,SAAT,IAAsB9F,QAAQ,CAAC8F,SAAT,CAAmBhG,MAAnB,GAA4B,CAAlD,IACA,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIE,QAAQ,CAAC8F,SAAT,CAAmBnC,GAAnB,CAAuBc,IAAI,IAC3B;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,QAAQ,EAAE,CAFZ;AAGE,MAAA,OAAO,EAAEkB,CAAC,IAAI,KAAKnB,YAAL,CAAkBgB,KAAK,CAACvG,YAAxB,EAAsCe,QAAQ,CAAChB,EAA/C,EAAmDyF,IAAI,CAACnF,WAAL,EAAnD,CAHhB;AAIE,MAAA,OAAO,EAAEqG,CAAC,IAAI,KAAKnB,YAAL,CAAkBgB,KAAK,CAACvG,YAAxB,EAAsCe,QAAQ,CAAChB,EAA/C,EAAmDyF,IAAI,CAACnF,WAAL,EAAnD,CAJhB;AAKE,MAAA,SAAS,EAAC,aALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAEmF,IAAI,CAACnF,WAAL,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAPF,EAUE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBmF,IAAI,CAACsB,WAAL,EAAvB,CAVF,CADA,CADJ,CAXJ,EA4BI,CAAC/F,QAAQ,CAACoD,MAAV,IAAoB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BxB,CADiB,CA9BvB,CADQ,CA7Cd,CADF,EAkHE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKa,MAAL,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAG,MAAA,SAAS,EAAErB,WAAW,KAAK,SAAhB,GAA4B,QAA5B,GAAuC,EAArD;AAAyD,MAAA,IAAI,EAAC,cAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,EAGE;AAAG,MAAA,SAAS,EAAEA,WAAW,KAAK,MAAhB,GAAyB,QAAzB,GAAoC,EAAlD;AAAsD,MAAA,IAAI,EAAC,sBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHF,CAlHF,CADF,CADF;AA4HD;;AA/Y8B;;AAkZjC5E,QAAQ,CAACtB,SAAT,GAAqB;AACnBkG,EAAAA,WAAW,EAAElG,SAAS,CAACsJ;AADJ,CAArB;AAIA,MAAMC,qBAAqB,GAAG1J,MAAM,CAAC2J,GAAV;AAAA;AAAA;AAAA,4JACLrD,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYC,YADhB,EAMCvD,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYE,SANtB,CAA3B;AAaA,MAAMC,eAAe,GAAG/J,MAAM,CAAC2J,GAAV;AAAA;AAAA;AAAA,gdAGCrD,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYE,SAHtB,EAQOxD,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYE,SAR5B,EA0BNxD,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYI,UA1Bf,EA2BF1D,KAAK,IAAIA,KAAK,CAACsD,KAAN,CAAYK,aA3BnB,CAArB;AAyCA,eAAexI,QAAf","sourcesContent":["/* eslint-disable no-loops/no-loops */\n/* eslint-disable no-undef */\nimport styled from 'styled-components'\nimport React, { Component } from 'react'\nimport propTypes from 'prop-types'\nimport ToggleContentParent from '../ToggleContentParent'\nimport Menu from '../../services/menu'\nimport Image from '../../services/image'\nimport Authorization from '../../services/authorization'\nimport Document from '../../services/document'\nimport { removeAccessToken } from '../../utils/storage'\nimport RowItem from '../UI/ItemSideMenu/RowItem'\nimport RowItemDocument from '../UI/ItemSideMenu/RowItemDocument'\nimport TextDocument from '../UI/ItemSideMenu/TextDocument'\nimport RowItemSub from '../UI/ItemSideMenu/RowItemSub'\nimport TextSub from '../UI/ItemSideMenu/TextSub'\nimport Icon from '../UI/ItemSideMenu/Icon'\nimport Text from '../UI/ItemSideMenu/Text'\nimport NewItem from '../UI/ItemSideMenu/NewItem'\nimport { HomeIcon, ContactIcon, FavoritesIcon, CostCalculator } from '../Icons'\nimport IconDocument from '../IconDocument'\nimport PopupChangeLanguage from '../PopupChangeLanguage'\nimport FlagDocument from '../FlagDocument'\n\nclass SideMenu extends Component {\n  state = {\n    rawMenus: '',\n    openId: '',\n    menus: [],\n    layers: []\n  }\n\n  async componentDidMount() {\n    const { staticValue } = this.props\n    document.addEventListener('mousedown', this.handleClickOutside)\n    const menus = []\n    const response = await Menu.getAll()\n    response.data.sort((a, b) => a.position - b.position)\n    response.data.forEach(item => {\n      item.viewed = true\n      if (!item.parentMenuId) {\n        menus.push(item)\n      }\n    })\n\n    this.setState({ openId: staticValue, menus, rawMenus: response.data }, async () => {\n      $('.bottom-item').show().css('display','flex')\n\n      // parse the hashes and restore menu states\n      const hashes = location.hash.split('/')\n      for (let x = 0;x < hashes.length;x++) {\n        hashes[x] = hashes[x].replace('#', '')\n        if (hashes[x]) {\n          if (x == 0) {\n            await this.getCallBack(hashes[x], false, true)\n          } else {\n            await this.getCallBackChild(hashes[x], x, false, true)\n          }\n        }\n      }\n\n      // build viewed data\n      this.buildViewedDocument()\n    })\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside)\n  }\n\n  setWrapperRef = (node) => {\n    this.wrapperRef = node\n  }\n\n  getCallBack = async (value, animation, hashing) => {\n    await this.getCallBackChild(value, 0, animation, hashing)\n    this.setState({ openId: value })\n  }\n\n  getCallBackChild = async (value, layerIndex, animation, hashing) => {\n    const { rawMenus, layers } = this.state\n    const menu = rawMenus.filter(menu => menu.id == value)[0]\n    const menus = rawMenus.filter(menu => menu.parentMenuId == value)\n    const documents = menu.documentList\n    const isCalendar = menu.name.toLowerCase().indexOf('3dp training') == -1 ? false: true\n\n    // change hash location so it can perform go back function\n    if (!hashing) {\n      const hashes = layerIndex == 0 ? [] : location.hash.split('/')\n      if (hashes[layerIndex]) {\n        hashes[layerIndex] = value\n      } else {\n        hashes.push(value)\n      }\n      location.hash = hashes.join('/')\n    }\n\n    if (!isCalendar && menus.length == 0 && documents.length == 0) {\n      if (layers.length > 0 && layers[layerIndex - 1]) {\n        layers[layerIndex - 1].openId = value\n      }\n\n      if (layerIndex == 0) {\n        const el = document.getElementById('bgMainPage')\n        Image.getUrl(menu.backgroundId).then(img => {\n          el.style.backgroundImage = `url('${img.data}')`\n          el.style.display = 'block'\n        })\n      }\n      \n      layers.splice(layerIndex)\n      this.setState({ layers })\n    } else {\n      const num = layerIndex - 1\n      if (layerIndex > 2) {\n        if (animation && num + 1 == layers.length ) {\n          $(`#layer${num}`).css({ 'z-index': 1100 })\n          await $(`#layer${num}`).animate({ 'left': '-=200px' }).promise()\n          if (layers[num]) {\n            layers[num].styleIndex = 1\n          }\n        }\n        this.setDataState(layers, value, layerIndex, animation)\n      } else {\n        this.setDataState(layers, value, layerIndex, animation)\n      }\n    }\n  }\n\n  setDataState = (stateLayers, value, layerIndex, animation) => {\n    const { rawMenus } = this.state\n    const layers = [...stateLayers]\n    const menu = rawMenus.filter(menu => menu.id == value)[0]\n    const menus = rawMenus.filter(menu => menu.parentMenuId == value)\n    const documents = menu.documentList\n\n    if (layerIndex == 0) {\n      // click on non main page (contact, setting, calendar pages)\n      const el = document.getElementById('bgMainPage')\n\n      // change background if it is on main page\n      Image.getUrl(menu.backgroundId).then(img => {\n        el.style.backgroundImage = `url('${img.data}')`\n        el.style.display = 'block'\n      })\n    }\n\n    layers.splice(layerIndex)\n    \n    // sort menus by position\n    const docData = documents.sort((a, b) => a.position - b.position)\n    const theCalendar = menu.name.toLowerCase().indexOf('3dp training') == -1 ? false: true\n\n    layers.push({\n      id: `layer${layerIndex}`,\n      index: layerIndex,\n      styleIndex: layerIndex > 2 ? 2 : layerIndex,\n      parentMenuId: value,\n      menus: menus,\n      documents: docData,\n      isCalendar: theCalendar,\n      isActive: true\n    })\n\n    const lastIndex = layerIndex == 0 ? layerIndex : layerIndex - 1\n    layers[lastIndex].openId = value\n\n    let layerLength = layers.length\n    this.setState({ layers }, () => {\n\n      // perform slide in / slide out effect\n      let numId = (layerIndex).toString()\n      let idLayer = '#layer' + numId\n\n      for (let x = layerIndex; x < layerLength;x++) {\n        $(`#side-menu-user #layer${x}`).css({ display: 'none', width: 0 })\n      }\n\n      if (animation) {\n        $(`#side-menu-user ${idLayer}`).delay(300).css({ display: 'block' }).animate({ width: 300 })\n      } else {\n        $(`#side-menu-user ${idLayer}`).css({ display: 'block', width: 300 })\n      }\n    })\n  }\n\n  handleClickOutside = event => {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      var elements = document.querySelectorAll('.sub-menu-child')\n      for (let i = 0; i < elements.length; i++) {\n        elements[i].classList.remove('open')\n      }\n    }\n  }\n\n  buildViewedDocument() {\n    const { rawMenus } = this.state\n    const documents = rawMenus.map(menu => menu.documentList).flat()\n    documents.forEach(doc => {\n      if (!doc.viewed) {\n        let finalMenu = doc.menuId\n        // set new icon to the parent\n        while (finalMenu) {\n          rawMenus.forEach(menu => {\n            if (menu.id == finalMenu) {\n              menu.viewed = false\n              finalMenu = menu.parentMenuId\n            }\n          })\n        }\n      }\n    })\n\n    this.setState({ rawMenus })\n  }\n\n  closeAllLayer() {\n    var elements = document.querySelectorAll('.sub-menu-child')\n    for (let i = 1; i < elements.length; i++) {\n      elements[i].classList.remove('open')\n    }\n  }\n\n  logout() {\n    try {\n      Authorization.logout('web').then(response => {\n        removeAccessToken()\n        if (response.data != 'OK') {\n          window.location = response.data\n        } else {\n          window.location = '/'\n        }\n      }).error(response => {\n        removeAccessToken()\n        window.location = '/'\n      })\n    } catch(err) {\n      removeAccessToken()\n      window.location = '/'\n    }\n  }\n\n  openHomePage() {\n    window.location.href = '/'\n  }\n\n  openCalendar() {\n    window.location.href = '/calendar'\n  }\n\n  openDocument(menu, document, lang) {\n    Document.viewedDocuments(document).then(() => {\n      const temp = lang ? lang : 'en'\n      window.location.href = `/content-viewer?menuId=${menu}&document=${document}&lang=${temp}`\n    })\n  }\n\n  async openFavorites() {\n    const { layers, rawMenus } = this.state\n    const documents = await Document.favoriteDocuments()\n    const temp = rawMenus.map(menu => menu.documentList.map(item => item.id)).flat()\n    const result = []\n    if (temp) {\n      documents.data.forEach(item => {\n        if (temp.includes(item.documentDTO.id)) {\n          result.push(item.documentDTO)\n        }\n      })\n    }\n    layers.splice(0)\n    layers.push({\n      id: 'layer0',\n      index: 0,\n      styleIndex: 0,\n      parentMenuId: 'favorite',\n      menus: [],\n      documents: result,\n      isActive: true\n    })\n\n    this.setState({ openId: 'fav', layers }, () => {\n      // perform slide in / slide out effect for favorite page\n      let idLayer = '#layer0'\n      $(`#side-menu-user ${idLayer}`).css({ display: 'none', width: 0 })\n      $(`#side-menu-user ${idLayer}`).delay(300).css({ display: 'block' }).animate({ width: 300 })\n    })\n  }\n\n  openContactPage() {\n    window.location.href = '/contact'\n  }\n\n  openCalculator() {\n    window.open('https://www.printos.com', '_blank')\n  }\n\n  render(props) {\n    const { staticValue } = this.props\n    const { openId, menus, layers } = this.state\n    return (\n      <React.Fragment>\n        <WrapperSideMenu id='side-menu-user' ref={this.setWrapperRef}>\n          <div className='content-menu'>\n            <RowItem\n              className={openId == 'homepage' ? 'active row-item bottom-item' : 'row-item bottom-item'}\n              onClick={() => this.openHomePage()}\n            >\n              <Icon className='icon-menu'><HomeIcon /></Icon>\n              <Text className='txt'>Home</Text>\n            </RowItem>\n            {\n              menus.map(item => (\n                <ToggleContentParent\n                  key={item.id}\n                  selectedIcon={item.primaryIconId}\n                  unSelectedIcon={item.secondaryIconId}\n                  imageId={item.primaryIconId}\n                  title={item.name}\n                  id={item.id}\n                  keyId={openId} \n                  getData={this.getCallBack}\n                  viewed={item.viewed}\n                />\n              ))\n            }\n            <RowItem\n              className={openId == 'fav' ? 'active row-item bottom-item' : 'row-item bottom-item'}\n              onClick={() => this.openFavorites()}\n            >\n              <Icon className='icon-menu'><FavoritesIcon /></Icon>\n              <Text className='txt'>Favorites</Text>\n            </RowItem>\n            <RowItem\n              className={openId === 'contact' ? 'active row-item bottom-item' : 'row-item bottom-item'}\n              onClick={() => this.openContactPage()}\n            >\n              <Icon className='icon-menu'><ContactIcon /></Icon>\n              <Text className='txt'>Contact</Text>\n            </RowItem>\n            <RowItem\n              className={'row-item bottom-item'}\n              onClick={() => this.openCalculator()}\n            >\n              <Icon className='icon-menu'><CostCalculator /></Icon>\n              <Text className='txt'>Cost Calculator</Text>\n            </RowItem>\n            {\n              layers && layers.map(layer => (\n                <WrapperSideMenuPlayer\n                  key={layer.id}\n                  id={'layer' + layer.index}\n                  style={{ left: `${(layer.styleIndex + 1) * 100}%`, zIndex: 1000 - layer.styleIndex }}\n                >\n                  {\n                    layer.isCalendar && (\n                    <RowItemSub\n                      role='button'\n                      className={openId === 'calendar' ? 'active row-item' : 'row-item'}\n                      key='calendar'\n                      onClick={e => this.openCalendar()}\n                    >\n                      <TextSub className='txt'>WW 3DP Training Calendar</TextSub>\n                    </RowItemSub>\n)}\n                  {\n                    layer.menus && layer.menus.map(menu => (\n                      <RowItemSub\n                        role='button'\n                        className={layer.openId == menu.id ? 'active row-item' : 'row-item'}\n                        key={menu.id}\n                        onClick={e => this.getCallBackChild(menu.id, layer.index + 1, true)}\n                      >\n                        <TextSub className='txt'>{menu.name}</TextSub>\n                        { !menu.viewed && <NewItem /> }\n                      </RowItemSub>\n                    ))\n                  }\n                  {\n                    layer.documents && layer.documents.map(document => (\n                      <RowItemDocument\n                        role='button'\n                        className={layer.openId == document.id ? 'active row-item' : 'row-item'}\n                        key={document.id}\n                      >\n                        <Icon onClick={e => this.openDocument(layer.parentMenuId, document.id)} className='icon-menu'>\n                          <IconDocument documentType={document.documentType ? document.documentType : document.type} />\n                        </Icon>\n                        <TextDocument onClick={e => this.openDocument(layer.parentMenuId, document.id)} className='txt'>{document.name}</TextDocument>\n                        {\n                          document.languages && document.languages.length > 1 && (\n                          <PopupChangeLanguage>\n                            { document.languages.map(lang => (\n                              <div\n                                role='button'\n                                tabIndex={0}\n                                onKeyUp={e => this.openDocument(layer.parentMenuId, document.id, lang.toLowerCase())}\n                                onClick={e => this.openDocument(layer.parentMenuId, document.id, lang.toLowerCase())}\n                                className='row-country'\n                              >\n                                <div className='icon-flag'>\n                                  <FlagDocument lang={lang.toLowerCase()} />\n                                </div>\n                                <div className='name'>{lang.toUpperCase()}</div>\n                              </div>\n))}\n                          </PopupChangeLanguage>\n)}\n                        { !document.viewed && <NewItem /> }\n                      </RowItemDocument>\n                    ))\n                  }\n                </WrapperSideMenuPlayer>\n              ))\n            }\n          </div>\n          <div className='bottom-menu'>\n            <a href='#' onClick={() => this.logout()}>Logout</a>\n            <a className={staticValue === 'setting' ? 'active' : ''} href='/app-setting'>App Settings</a>\n            <a className={staticValue === 'term' ? 'active' : ''} href='/term-and-conditions'>Term and conditions</a>\n          </div>\n        </WrapperSideMenu>\n      </React.Fragment>\n    )\n  }\n}\n\nSideMenu.propTypes = {\n  staticValue: propTypes.string\n}\n\nconst WrapperSideMenuPlayer = styled.div`\n  background-color: ${props => props.theme.colorContent};\n  position: absolute;\n  height: 100%;\n  top: 0;\n  width: 0;\n  border-right: 1px solid ${props => props.theme.colorBlue};\n  padding: 0;\n  box-sizing: border-box;\n  opacity: 1;\n  z-index: 10;\n`\n\nconst WrapperSideMenu = styled.div`\n  width: 300px;\n  flex: 1 1 auto;\n  background-color: ${props => props.theme.colorBlue};\n  position: relative;\n  padding-top: 60px;\n  min-width: 300px;\n  box-sizing: border-box;\n  border-right: 1px solid ${props => props.theme.colorBlue};\n  display: flex;\n  flex-direction: column;\n\n  .content-menu {\n    flex: 1 1 100%;\n    overflow-y: scroll;\n  }\n\n  .bottom-menu {\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n    padding-left: 20px;\n    padding-bottom: 15px;\n    padding-top: 10px;\n\n    a {\n      color: ${props => props.theme.colorWhite} !important;\n      font-size: ${props => props.theme.languagesSize};\n      padding: 2px 0;\n\n      &.active {\n        font-size: 17px;\n      }\n    }\n  }\n\n  .bottom-item {\n    display: none;\n  }\n`\n\nexport default SideMenu\n"]},"metadata":{},"sourceType":"module"}